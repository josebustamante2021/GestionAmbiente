(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{qgoE:function(c,t,e){"use strict";e.r(t),e.d(t,"MigracionModule",function(){return jt});var i=e("ofXK"),o=e("3Pt+"),a=e("+0xr"),s=e("M9IT"),r=e("kmnG"),n=e("qFsG"),l=e("dNgK"),d=e("bTqV"),u=e("NFeN"),m=e("d3UM"),h=e("0IaG"),f=e("Dh3D"),p=e("/t3+"),b=e("iadO"),g=e("Qu3c"),k=e("tyNb"),j=e("tSRP"),v=e("vJ2/"),R=e("5EIP"),S=e("yWYo"),E=e("6QuB"),Z=e("tk/3"),C=e("AytR"),A=e("KDUW"),X=e("fXoL");new Z.d({"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,POST,OPTIONS,DELETE,PUT"});let P=(()=>{class c{constructor(c,t){this.httpClient=c,this.authService=t}getAll(){return this.httpClient.get(`${C.a.apiUrl}/migrar/findAll`,{headers:(new Z.d).append("Authorization",`${this.authService.getToken()}`)})}Inconsistencias(c){return this.httpClient.post(`${C.a.apiUrl}/migrar/validarInconsistencias`,c,{headers:(new Z.d).append("Authorization",`${this.authService.getToken()}`)})}replicaGetAll(){return this.httpClient.get(`${C.a.apiUrl}/migrar/sincronizar/findAll`,{headers:(new Z.d).append("Authorization",`${this.authService.getToken()}`)})}migrar(c){return this.httpClient.post(`${C.a.apiUrl}/migrar/procesarMigracion`,c,{headers:(new Z.d).append("Authorization",`${this.authService.getToken()}`)})}existe(c){return this.httpClient.post(`${C.a.apiUrl}/migrar/existe`,c,{headers:(new Z.d).append("Authorization",`${this.authService.getToken()}`)})}}return c.\u0275fac=function(t){return new(t||c)(X.rc(Z.b),X.rc(A.a))},c.\u0275prov=X.ac({token:c,factory:c.\u0275fac}),c})();var w=e("zbH2"),y=e("PSD3"),D=e.n(y),I=e("4DLd"),T=e("a1LK"),$=e("FKr1"),x=e("bv9b"),F=e("Xa2L");const O=["paginator"],M=["sortTableSort"],z=["paginatorReplica"],N=["sortTableSortReplica"];function L(c,t){1&c&&(X.kc(0,"div",76),X.fc(1,"mat-progress-bar",77),X.jc())}function V(c,t){if(1&c&&(X.kc(0,"mat-option",78),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Ec("value",c),X.Rb(1),X.bd("",c.descripcion," ")}}function B(c,t){if(1&c&&(X.kc(0,"mat-option",78),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Ec("value",c.semestre),X.Rb(1),X.bd("",c.descripcion," ")}}function H(c,t){if(1&c){const c=X.lc();X.kc(0,"div",18),X.kc(1,"mat-form-field",19),X.kc(2,"mat-label"),X.Zc(3,"Semestre"),X.jc(),X.kc(4,"mat-select",79),X.uc("valueChange",function(t){return X.Qc(c),X.yc().selectedSemestre=t})("selectionChange",function(){return X.Qc(c),X.yc().listaCiclos()}),X.Xc(5,B,2,2,"mat-option",21),X.jc(),X.jc(),X.jc()}if(2&c){const c=X.yc();X.Rb(4),X.Ec("value",c.selectedSemestre),X.Rb(1),X.Ec("ngForOf",c.semestres)}}function U(c,t){if(1&c&&(X.kc(0,"mat-option",78),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Ec("value",c.annoProceso),X.Rb(1),X.bd("",c.annoProceso," ")}}function q(c,t){if(1&c&&(X.kc(0,"div",18),X.kc(1,"mat-form-field",19),X.kc(2,"mat-label"),X.Zc(3,"A\xf1o Proceso"),X.jc(),X.kc(4,"mat-select",80),X.Xc(5,U,2,2,"mat-option",21),X.jc(),X.jc(),X.jc()),2&c){const c=X.yc();X.Rb(5),X.Ec("ngForOf",c.annos)}}function G(c,t){if(1&c&&(X.kc(0,"mat-option",78),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Ec("value",c.codigo),X.Rb(1),X.cd("",c.codigo," - ",c.descripcion," ")}}function _(c,t){if(1&c&&(X.kc(0,"div",18),X.kc(1,"mat-form-field",19),X.kc(2,"mat-label"),X.Zc(3,"Mes Proceso"),X.jc(),X.kc(4,"mat-select",81),X.Xc(5,G,2,3,"mat-option",21),X.jc(),X.jc(),X.jc()),2&c){const c=X.yc();X.Rb(5),X.Ec("ngForOf",c.meses)}}function K(c,t){if(1&c&&(X.kc(0,"mat-option",78),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Ec("value",c),X.Rb(1),X.bd("",c.descripcion," ")}}function Q(c,t){if(1&c&&(X.kc(0,"mat-option",78),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Ec("value",c),X.Rb(1),X.bd("",c.descripcion," ")}}function J(c,t){if(1&c&&(X.kc(0,"mat-option",78),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Ec("value",c),X.Rb(1),X.ad(c.descripcion)}}function W(c,t){if(1&c&&(X.kc(0,"mat-option",78),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Ec("value",c),X.Rb(1),X.bd("",c.descripcion," ")}}function Y(c,t){if(1&c&&(X.kc(0,"mat-option",78),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Ec("value",c.ciclo),X.Rb(1),X.bd("",c.ciclo," ")}}function cc(c,t){if(1&c&&(X.kc(0,"div",82),X.kc(1,"span",83),X.Zc(2),X.jc(),X.jc()),2&c){const c=X.yc();X.Rb(2),X.ad(c.RegistrosProcesados)}}function tc(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," # "),X.jc())}function ec(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.simulacionID," ")}}function ic(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Fecha"),X.jc())}function oc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.zc(2,"date"),X.fc(3,"br"),X.Zc(4),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",X.Bc(2,2,c.fecha_convert,"dd/MM/yyyy hh:mm a")," "),X.Rb(3),X.ad(c.usuario)}}function ac(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Area "),X.jc())}function sc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.codigoArea," ")}}function rc(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Filial "),X.jc())}function nc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.nombreFilial," ")}}function lc(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Sede "),X.jc())}function dc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.codigoSede," ")}}function uc(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Especialidad "),X.jc())}function mc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.codigoEspecialidad," ")}}function hc(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Tipo Ambiente "),X.jc())}function fc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.codigoTipoAmbiente," ")}}function pc(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Ciclo "),X.jc())}function bc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.ciclo," ")}}function gc(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Semestre "),X.jc())}function kc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.semestre," ")}}function jc(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," A\xf1o "),X.jc())}function vc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.annoProceso," ")}}function Rc(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Mes "),X.jc())}function Sc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.mesProceso," ")}}function Ec(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Estado "),X.jc())}function Zc(c,t){1&c&&(X.kc(0,"div"),X.Zc(1,"PENDIENTE"),X.jc())}function Cc(c,t){1&c&&(X.kc(0,"div"),X.Zc(1,"MIGRADO"),X.jc())}function Ac(c,t){if(1&c&&(X.kc(0,"td",85),X.Xc(1,Zc,2,0,"div",86),X.Xc(2,Cc,2,0,"div",86),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.Ec("ngIf",0==c.estado),X.Rb(1),X.Ec("ngIf",1==c.estado)}}function Xc(c,t){1&c&&X.fc(0,"tr",87)}const Pc=function(c){return{primary:c}};function wc(c,t){1&c&&X.fc(0,"tr",88),2&c&&X.Ec("ngClass",X.Ic(1,Pc,1==t.$implicit.estado))}function yc(c,t){1&c&&(X.kc(0,"div",89),X.fc(1,"mat-progress-spinner",90),X.jc()),2&c&&(X.Rb(1),X.Ec("diameter",40))}function Dc(c,t){if(1&c&&(X.kc(0,"div",91),X.Zc(1," No results "),X.jc()),2&c){const c=X.yc();X.Uc("display",0==(null==c.dataSource?null:c.dataSource.data.length)?"":"none")}}function Ic(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," # "),X.jc())}function Tc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.simulacionID," ")}}function $c(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Fecha"),X.jc())}function xc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.zc(2,"date"),X.fc(3,"br"),X.Zc(4),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",X.Bc(2,2,c.fecha_convert,"dd/MM/yyyy hh:mm a")," "),X.Rb(3),X.ad(c.usuario)}}function Fc(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Area "),X.jc())}function Oc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.codigoArea," ")}}function Mc(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Filial "),X.jc())}function zc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.nombreFilial," ")}}function Nc(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Sede "),X.jc())}function Lc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.codigoSede," ")}}function Vc(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Especialidad "),X.jc())}function Bc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.codigoEspecialidad," ")}}function Hc(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Tipo Ambiente "),X.jc())}function Uc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.codigoTipoAmbiente," ")}}function qc(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Ciclo "),X.jc())}function Gc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.ciclo," ")}}function _c(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Semestre "),X.jc())}function Kc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.semestre," ")}}function Qc(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," A\xf1o "),X.jc())}function Jc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.annoProceso," ")}}function Wc(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Mes "),X.jc())}function Yc(c,t){if(1&c&&(X.kc(0,"td",85),X.Zc(1),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.bd(" ",c.mesProceso," ")}}function ct(c,t){1&c&&(X.kc(0,"th",84),X.Zc(1," Estado "),X.jc())}function tt(c,t){1&c&&(X.kc(0,"div"),X.Zc(1,"PENDIENTE"),X.jc())}function et(c,t){1&c&&(X.kc(0,"div"),X.Zc(1,"SINCRONIZADO"),X.jc())}function it(c,t){if(1&c&&(X.kc(0,"td",85),X.Xc(1,tt,2,0,"div",86),X.Xc(2,et,2,0,"div",86),X.jc()),2&c){const c=t.$implicit;X.Rb(1),X.Ec("ngIf",0==c.estado),X.Rb(1),X.Ec("ngIf",1==c.estado)}}function ot(c,t){1&c&&(X.kc(0,"th",92),X.Zc(1,"Opciones"),X.jc())}function at(c,t){1&c&&X.fc(0,"td",93)}function st(c,t){1&c&&X.fc(0,"tr",87)}function rt(c,t){1&c&&X.fc(0,"tr",88),2&c&&X.Ec("ngClass",X.Ic(1,Pc,1==t.$implicit.estado))}function nt(c,t){1&c&&(X.kc(0,"div",89),X.fc(1,"mat-progress-spinner",90),X.jc()),2&c&&(X.Rb(1),X.Ec("diameter",40))}function lt(c,t){if(1&c&&(X.kc(0,"div",91),X.Zc(1," No results "),X.jc()),2&c){const c=X.yc();X.Uc("display",0==(null==c.dataSourceReplica?null:c.dataSourceReplica.data.length)?"":"none")}}const dt=function(){return[5,10,20]},ut=[{path:"",component:(()=>{class c{constructor(c,t,e,i,o,a,s,r,n,l,d,u,m){this.snackBar=c,this.areaService=t,this.filialService=e,this.especialidadService=i,this.semestreService=o,this.sedeService=a,this.migrarService=s,this.dialog=r,this.fb=n,this.tipoAmbienteService=l,this.authService=d,this.asignacionManualService=u,this.excelService=m,this.procesando=!1,this.time=0,this.selectedAreaStatus=0,this.isSedeFilial=!1,this.isEspecialidad=!1,this.displayedColumns=["simulacionID","fecha_convert","codigoArea","nombreFilial","codigoSede","codigoEspecialidad","codigoTipoAmbiente","ciclo","semestre","annoProceso","mesProceso","estado"],this.displayedColumnsReplica=["simulacionID","fecha_convert","codigoArea","nombreFilial","codigoSede","codigoEspecialidad","codigoTipoAmbiente","ciclo","semestre","annoProceso","mesProceso","estado"],this.idLogin=this.authService.currentUserValue.id_login,this.form=this.createForm(),this.listaTipoAmbiente(),this.listaAnnos(),this.listaMeses()}createForm(){return this.fb.group({area:["",[o.q.required]],isSedeFilial:[""],isEspecialidad:[""],semestre:[""],annoProceso:[""],mesProceso:[""],filial:[0],sede:[0],especialidad:[0],tipoAmbiente:[0],ciclo:[0]})}listaTipoAmbiente(){this.tipoAmbienteService.getAll().subscribe(c=>{this.tiposAmbiente=null,200==c.status&&(this.tiposAmbiente=c.data)},c=>{this.showNotification("snackbar-danger","Error en la conexion...!!!","bottom","center")})}listaAnnos(){this.areaService.annosgetAll().subscribe(c=>{this.annos=null,200==c.status&&(this.annos=c.data)},c=>{this.showNotification("snackbar-danger","Error en la conexion...!!!","bottom","center")})}listaMeses(){this.areaService.mesesgetAll().subscribe(c=>{this.meses=null,200==c.status&&(this.meses=c.data)},c=>{this.showNotification("snackbar-danger","Error en la conexion...!!!","bottom","center")})}showNotification(c,t,e,i){this.snackBar.open(t,"",{duration:2e3,verticalPosition:e,horizontalPosition:i,panelClass:c})}ngOnInit(){this.listaAreas(),this.listaFiliales(),this.listaSemestres(),this.loadData(),this.loadDataReplica()}listaAreas(){this.selectedArea=null,this.areaService.getAll().subscribe(c=>{this.areas=null,200==c.status&&(this.areas=c.data)})}listaFiliales(){this.form.controls.filial.setValue(0),this.selectedFilial=null,this.filialService.getAll().subscribe(c=>{this.filiales=null,200==c.status&&(this.filiales=c.data)})}listaSemestres(){this.form.controls.semestre.setValue(""),this.selectedSemestre=null,this.semestreService.getAll().subscribe(c=>{this.semestres=null,200==c.status&&(this.semestres=c.data)})}listaSedes(){this.form.controls.sede.setValue(0),this.sedes=null,this.selectedSede=null,0!=this.form.controls.filial.value&&this.sedeService.getAll(this.selectedFilial.filialID).subscribe(c=>{this.sedes=null,200==c.status&&(this.sedes=c.data)},c=>{this.showNotification("snackbar-danger","Error en la conexion...!!!","bottom","center")})}listaEspecialidades(){this.form.controls.especialidad.setValue(0),this.form.controls.annoProceso.setValue(""),this.form.controls.mesProceso.setValue(""),this.form.controls.semestre.setValue(""),""+this.selectedArea.codigoArea=="04"||""+this.selectedArea.codigoArea=="05"?(this.selectedAreaStatus=2,this.form.get("annoProceso").setValidators([o.q.required]),this.form.get("mesProceso").setValidators([o.q.required]),this.form.get("semestre").setValidators(null)):(this.selectedAreaStatus=1,this.form.get("annoProceso").setValidators(null),this.form.get("mesProceso").setValidators(null),this.form.get("semestre").setValidators(o.q.required)),this.form.get("annoProceso").updateValueAndValidity(),this.form.get("mesProceso").updateValueAndValidity(),this.form.get("semestre").updateValueAndValidity(),this.selectedEspecialidad=null,this.especialidadService.getAll(this.selectedArea.codigoArea).subscribe(c=>{this.especialidades=null,200==c.status&&(this.especialidades=c.data)}),this.listaCiclos()}formData(){let c=this.form.controls.filial.value;0==this.form.controls.filial.value&&(c=null);let t=this.form.controls.sede.value;0==this.form.controls.sede.value&&(t=null);let e=this.form.controls.especialidad.value;0==this.form.controls.especialidad.value&&(e=null);let i=this.form.controls.tipoAmbiente.value;0==this.form.controls.tipoAmbiente.value&&(i=null);let o=this.form.controls.ciclo.value;0==this.form.controls.ciclo.value&&(o=null);let a=this.form.controls.area.value,s=this.form.controls.semestre.value,r=this.form.controls.annoProceso.value,n=this.form.controls.mesProceso.value;return"04"==a.codigoArea||"05"==a.codigoArea?s=null:(r=null,n=null),{area:a,filial:c,sede:t,especialidad:e,semestre:s,annoProceso:r,mesProceso:n,tipoAmbiente:i,ciclo:o,id_login:this.idLogin}}listaCiclos(){this.form.controls.ciclo.setValue(0),this.selectedArea=null,this.asignacionManualService.getCiclos(this.formData()).subscribe(c=>{this.ciclos=null,200==c.status&&(this.ciclos=c.data)})}loadData(){this.isTblLoading=!0,this.data=null,this.dataSource=new a.k(this.data),this.migrarService.getAll().subscribe(c=>{console.log(c.data),this.data=c.data,this.dataSource=new a.k(this.data),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.isTblLoading=!1},c=>{this.isTblLoading=!1,this.data=null,this.dataSource=new a.k(this.data),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}loadDataReplica(){this.isTblLoadingReplica=!0,this.data=null,this.dataSourceReplica=new a.k(this.data),this.migrarService.replicaGetAll().subscribe(c=>{this.data=c.data,this.dataSourceReplica=new a.k(this.data),this.dataSourceReplica.paginator=this.paginatorReplica,this.dataSourceReplica.sort=this.sortReplica,this.isTblLoadingReplica=!1},c=>{this.isTblLoadingReplica=!1,this.data=null,this.dataSourceReplica=new a.k(this.data),this.dataSourceReplica.paginator=this.paginatorReplica,this.dataSourceReplica.sort=this.sortReplica})}refresh(){this.loadData()}refreshReplica(){this.loadDataReplica()}applyFilter(c){this.dataSource.filter=c.target.value.trim().toLowerCase()}applyFilterReplica(c){this.dataSourceReplica.filter=c.target.value.trim().toLowerCase()}procesarMigrar(){this.procesando=!0,this.RegistrosProcesados="Procesando...";let c=this.formData();c.tipo=2,this.migrarService.Inconsistencias(c).subscribe(t=>{this.procesando=!1,200==t.status&&(console.log(t.data),t.data.length>0?(c.inconsistencias=t.data,this.RegistrosProcesados="Inconsistencias.",D.a.fire({icon:"error",title:"Se encontro Inconsistencias",showConfirmButton:!1,timer:2500}),this.excelService.generateExcelInconsistencias(c)):this.procesarMigracion(c))},c=>{this.RegistrosProcesados="Error interno.",this.procesando=!1,D.a.fire({icon:"error",title:"Ocurrio un Error en el Proceso",showConfirmButton:!1,timer:2500})})}procesarSincronizar(){this.procesando=!0,this.RegistrosProcesados="Procesando...";let c=this.formData();c.tipo=1,console.log(c),this.migrarService.migrar(c).subscribe(c=>{this.procesando=!1,200==c.status&&(console.log(c.data),1==c.data.status?(this.RegistrosProcesados="Proceso de sincronizar registrado. Este proceso puede tardar 30 min.",D.a.fire({icon:"success",title:"Proceso de sincronizar registrado",showConfirmButton:!1,timer:2500})):(this.RegistrosProcesados="Error al registrar la informacion.",D.a.fire({icon:"error",title:"Ocurrio un error al registrar la informacion",showConfirmButton:!1,timer:2500}))),this.refreshReplica()},c=>{this.procesando=!1,D.a.fire({icon:"error",title:"Ocurrio un Error en el Proceso",showConfirmButton:!1,timer:2500})})}procesarMigracion(c){this.procesando=!0,this.RegistrosProcesados="Procesando...",console.log(c),this.migrarService.migrar(c).subscribe(c=>{this.procesando=!1,200==c.status&&(console.log(c.data),1==c.data.status?(this.RegistrosProcesados="Proceso de migraci\xf3n registrado. Este proceso puede tardar 30 min.",D.a.fire({icon:"success",title:"Proceso de migraci\xf3n registrado",showConfirmButton:!1,timer:2500})):(this.RegistrosProcesados="Error al registrar la informacion.",D.a.fire({icon:"error",title:"Ocurrio un error al registrar la informacion",showConfirmButton:!1,timer:2500}))),this.refresh()},c=>{this.procesando=!1,D.a.fire({icon:"error",title:"Ocurrio un Error en el Proceso",showConfirmButton:!1,timer:2500})})}validarExiste(c){this.procesando=!0,this.RegistrosProcesados="Procesando...";let t=this.formData();t.tipo=c,console.log(t),this.migrarService.existe(t).subscribe(t=>{this.procesando=!1,200==t.status&&(console.log(t.data),1==t.data.status?0==t.data.out_id?1==c?this.procesarSincronizar():2==c&&this.procesarMigrar():(this.RegistrosProcesados="Proceso ejecutado, por favor esperar.",D.a.fire({icon:"success",title:"Proceso ejecutado, por favor esperar",showConfirmButton:!1,timer:2500})):(this.RegistrosProcesados="Error interno.",D.a.fire({icon:"error",title:"Ocurrio un error interno",showConfirmButton:!1,timer:2500}))),this.refresh()},c=>{this.procesando=!1,D.a.fire({icon:"error",title:"Ocurrio un Error interno",showConfirmButton:!1,timer:2500})})}}return c.\u0275fac=function(t){return new(t||c)(X.ec(l.a),X.ec(j.a),X.ec(v.a),X.ec(R.a),X.ec(E.a),X.ec(S.a),X.ec(P),X.ec(h.b),X.ec(o.d),X.ec(w.a),X.ec(A.a),X.ec(I.a),X.ec(T.a))},c.\u0275cmp=X.Yb({type:c,selectors:[["app-migracion-lista"]],viewQuery:function(c,t){if(1&c&&(X.dd(O,3),X.dd(M,1),X.dd(z,3),X.dd(N,1)),2&c){let c;X.Lc(c=X.vc())&&(t.paginator=c.first),X.Lc(c=X.vc())&&(t.sort=c.first),X.Lc(c=X.vc())&&(t.paginatorReplica=c.first),X.Lc(c=X.vc())&&(t.sortReplica=c.first)}},decls:217,vars:41,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],["routerLink","/admin/dashboard/main"],[1,"fas","fa-home"],[1,"breadcrumb-item","active"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],["class","col-lg-12 col-xs-12",4,"ngIf"],[1,"register-form","m-4",3,"formGroup"],[1,"row",2,"font-size","12px"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-6","col-xs-12"],["appearance","outline",1,"example-full-width"],["formControlName","area",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12",4,"ngIf"],["formControlName","filial",3,"value","valueChange","selectionChange"],["selected","",3,"value"],["formControlName","sede",3,"value","valueChange"],[1,"col-xl-4","col-lg-6","col-md-6","col-sm-6","col-xs-12"],["formControlName","especialidad",3,"value","valueChange","selectionChange"],["formControlName","tipoAmbiente"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-5","col-xs-12"],["formControlName","ciclo"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-12","col-xs-12"],["mat-raised-button","","color","primary","matTooltip","Migrar la tabla Intermedia de Simulaci\xf3n a Producci\xf3n (solo el campo UbicacionID)",1,"mr-3",3,"disabled","click"],[1,"col-white"],["mat-raised-button","","color","primary","matTooltip","Sincronizar de Producci\xf3n a la tabla Intermedia de Simulaci\xf3n (excepto el campo UbicacionID)",1,"mr-3",3,"disabled","click"],["class","col-lg-6 col-md-6 col-sm-12 col-xs-12","style","text-align: right;font-size: 18px",4,"ngIf"],[1,"body","table-responsive"],[1,"materialTableHeader"],[1,"col-8"],[1,"header-buttons-left","ml-0"],[1,"dropdown"],[1,"dropdown","m-l-20"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Buscar","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"col-4"],[1,"header-buttons"],[1,"icon-button-demo"],["mat-mini-fab","","color","primary","matTooltip","Actualizar",3,"click"],["mat-table","","matSort","",1,"w-100",3,"dataSource"],["sortTableSort","matSort"],["matColumnDef","simulacionID"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fecha_convert"],["matColumnDef","codigoArea"],["matColumnDef","nombreFilial"],["matColumnDef","codigoSede"],["matColumnDef","codigoEspecialidad"],["matColumnDef","codigoTipoAmbiente"],["matColumnDef","ciclo"],["matColumnDef","semestre"],["matColumnDef","annoProceso"],["matColumnDef","mesProceso"],["matColumnDef","estado"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["class","tbl-spinner",4,"ngIf"],["class","no-results",3,"display",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],["paginator",""],["sortTableSortReplica","matSort"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["paginatorReplica",""],[1,"col-lg-12","col-xs-12"],["mode","indeterminate"],[3,"value"],["formControlName","semestre",3,"value","valueChange","selectionChange"],["formControlName","annoProceso"],["formControlName","mesProceso"],[1,"col-lg-6","col-md-6","col-sm-12","col-xs-12",2,"text-align","right","font-size","18px"],[1,"label","bg-cyan","m-b-10"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf"],["mat-header-row",""],["mat-row","",3,"ngClass"],[1,"tbl-spinner"],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["mat-cell","",1,"actions-cell"]],template:function(c,t){1&c&&(X.kc(0,"section",0),X.kc(1,"div",1),X.kc(2,"div",2),X.kc(3,"div",3),X.kc(4,"div",4),X.kc(5,"ul",5),X.kc(6,"li",6),X.kc(7,"h4",7),X.Zc(8,"Migraci\xf3n"),X.jc(),X.jc(),X.kc(9,"li",8),X.kc(10,"a",9),X.fc(11,"i",10),X.Zc(12," Home"),X.jc(),X.jc(),X.kc(13,"li",11),X.Zc(14," Migraci\xf3n "),X.jc(),X.jc(),X.jc(),X.jc(),X.jc(),X.kc(15,"div",3),X.kc(16,"div",12),X.kc(17,"div",13),X.kc(18,"div",14),X.kc(19,"div",3),X.Xc(20,L,2,0,"div",15),X.jc(),X.kc(21,"form",16),X.kc(22,"div",17),X.kc(23,"div",18),X.kc(24,"mat-form-field",19),X.kc(25,"mat-label"),X.Zc(26,"Area"),X.jc(),X.kc(27,"mat-select",20),X.uc("valueChange",function(c){return t.selectedArea=c})("selectionChange",function(){return t.listaEspecialidades()}),X.Xc(28,V,2,2,"mat-option",21),X.jc(),X.jc(),X.jc(),X.Xc(29,H,6,2,"div",22),X.Xc(30,q,6,1,"div",22),X.Xc(31,_,6,1,"div",22),X.kc(32,"div",18),X.kc(33,"mat-form-field",19),X.kc(34,"mat-label"),X.Zc(35,"Filial"),X.jc(),X.kc(36,"mat-select",23),X.uc("valueChange",function(c){return t.selectedFilial=c})("selectionChange",function(){return t.listaSedes()}),X.kc(37,"mat-option",24),X.Zc(38,"Todos"),X.jc(),X.Xc(39,K,2,2,"mat-option",21),X.jc(),X.jc(),X.jc(),X.kc(40,"div",18),X.kc(41,"mat-form-field",19),X.kc(42,"mat-label"),X.Zc(43,"Sede"),X.jc(),X.kc(44,"mat-select",25),X.uc("valueChange",function(c){return t.selectedSede=c}),X.kc(45,"mat-option",24),X.Zc(46,"Todos"),X.jc(),X.Xc(47,Q,2,2,"mat-option",21),X.jc(),X.jc(),X.jc(),X.kc(48,"div",26),X.kc(49,"mat-form-field",19),X.kc(50,"mat-label"),X.Zc(51,"Especialidad"),X.jc(),X.kc(52,"mat-select",27),X.uc("valueChange",function(c){return t.selectedEspecialidad=c})("selectionChange",function(){return t.listaCiclos()}),X.kc(53,"mat-option",24),X.Zc(54,"Todos"),X.jc(),X.Xc(55,J,2,2,"mat-option",21),X.jc(),X.jc(),X.jc(),X.kc(56,"div",18),X.kc(57,"mat-form-field",19),X.kc(58,"mat-label"),X.Zc(59,"Tipo de Ambiente"),X.jc(),X.kc(60,"mat-select",28),X.kc(61,"mat-option",24),X.Zc(62,"Todos"),X.jc(),X.Xc(63,W,2,2,"mat-option",21),X.jc(),X.jc(),X.jc(),X.kc(64,"div",29),X.kc(65,"mat-form-field",19),X.kc(66,"mat-label"),X.Zc(67,"Ciclo"),X.jc(),X.kc(68,"mat-select",30),X.kc(69,"mat-option",24),X.Zc(70,"Todos"),X.jc(),X.Xc(71,Y,2,2,"mat-option",21),X.jc(),X.jc(),X.jc(),X.jc(),X.kc(72,"div",17),X.kc(73,"div",31),X.kc(74,"button",32),X.uc("click",function(){return t.validarExiste(2)}),X.kc(75,"mat-icon",33),X.Zc(76,"autorenew "),X.jc(),X.Zc(77," Migrar "),X.jc(),X.kc(78,"button",34),X.uc("click",function(){return t.validarExiste(1)}),X.kc(79,"mat-icon",33),X.Zc(80,"content_copy "),X.jc(),X.Zc(81," Sincronizar "),X.jc(),X.jc(),X.Xc(82,cc,3,1,"div",35),X.jc(),X.jc(),X.kc(83,"div",36),X.kc(84,"div",37),X.kc(85,"div",3),X.kc(86,"div",38),X.kc(87,"ul",39),X.kc(88,"li",40),X.kc(89,"h2"),X.kc(90,"strong"),X.Zc(91,"Migraciones a Produccion"),X.jc(),X.jc(),X.jc(),X.kc(92,"li",41),X.kc(93,"label",42),X.kc(94,"i",43),X.Zc(95,"search"),X.jc(),X.jc(),X.kc(96,"input",44),X.uc("keyup",function(c){return t.applyFilter(c)}),X.jc(),X.jc(),X.jc(),X.jc(),X.kc(97,"div",45),X.kc(98,"ul",46),X.kc(99,"li"),X.kc(100,"div",47),X.kc(101,"button",48),X.uc("click",function(){return t.refresh()}),X.kc(102,"mat-icon",33),X.Zc(103,"refresh "),X.jc(),X.jc(),X.jc(),X.jc(),X.jc(),X.jc(),X.jc(),X.jc(),X.kc(104,"table",49,50),X.ic(106,51),X.Xc(107,tc,2,0,"th",52),X.Xc(108,ec,2,1,"td",53),X.hc(),X.ic(109,54),X.Xc(110,ic,2,0,"th",52),X.Xc(111,oc,5,5,"td",53),X.hc(),X.ic(112,55),X.Xc(113,ac,2,0,"th",52),X.Xc(114,sc,2,1,"td",53),X.hc(),X.ic(115,56),X.Xc(116,rc,2,0,"th",52),X.Xc(117,nc,2,1,"td",53),X.hc(),X.ic(118,57),X.Xc(119,lc,2,0,"th",52),X.Xc(120,dc,2,1,"td",53),X.hc(),X.ic(121,58),X.Xc(122,uc,2,0,"th",52),X.Xc(123,mc,2,1,"td",53),X.hc(),X.ic(124,59),X.Xc(125,hc,2,0,"th",52),X.Xc(126,fc,2,1,"td",53),X.hc(),X.ic(127,60),X.Xc(128,pc,2,0,"th",52),X.Xc(129,bc,2,1,"td",53),X.hc(),X.ic(130,61),X.Xc(131,gc,2,0,"th",52),X.Xc(132,kc,2,1,"td",53),X.hc(),X.ic(133,62),X.Xc(134,jc,2,0,"th",52),X.Xc(135,vc,2,1,"td",53),X.hc(),X.ic(136,63),X.Xc(137,Rc,2,0,"th",52),X.Xc(138,Sc,2,1,"td",53),X.hc(),X.ic(139,64),X.Xc(140,Ec,2,0,"th",52),X.Xc(141,Ac,3,2,"td",53),X.hc(),X.Xc(142,Xc,1,0,"tr",65),X.Xc(143,wc,1,3,"tr",66),X.jc(),X.Xc(144,yc,2,1,"div",67),X.jc(),X.Xc(145,Dc,2,2,"div",68),X.fc(146,"mat-paginator",69,70),X.jc(),X.kc(148,"div",14),X.kc(149,"div",36),X.kc(150,"div",37),X.kc(151,"div",3),X.kc(152,"div",38),X.kc(153,"ul",39),X.kc(154,"li",40),X.kc(155,"h2"),X.kc(156,"strong"),X.Zc(157,"Sincronizacion"),X.jc(),X.jc(),X.jc(),X.kc(158,"li",41),X.kc(159,"label",42),X.kc(160,"i",43),X.Zc(161,"search"),X.jc(),X.jc(),X.kc(162,"input",44),X.uc("keyup",function(c){return t.applyFilterReplica(c)}),X.jc(),X.jc(),X.jc(),X.jc(),X.kc(163,"div",45),X.kc(164,"ul",46),X.kc(165,"li"),X.kc(166,"div",47),X.kc(167,"button",48),X.uc("click",function(){return t.refreshReplica()}),X.kc(168,"mat-icon",33),X.Zc(169,"refresh "),X.jc(),X.jc(),X.jc(),X.jc(),X.jc(),X.jc(),X.jc(),X.jc(),X.kc(170,"table",49,71),X.ic(172,51),X.Xc(173,Ic,2,0,"th",52),X.Xc(174,Tc,2,1,"td",53),X.hc(),X.ic(175,54),X.Xc(176,$c,2,0,"th",52),X.Xc(177,xc,5,5,"td",53),X.hc(),X.ic(178,55),X.Xc(179,Fc,2,0,"th",52),X.Xc(180,Oc,2,1,"td",53),X.hc(),X.ic(181,56),X.Xc(182,Mc,2,0,"th",52),X.Xc(183,zc,2,1,"td",53),X.hc(),X.ic(184,57),X.Xc(185,Nc,2,0,"th",52),X.Xc(186,Lc,2,1,"td",53),X.hc(),X.ic(187,58),X.Xc(188,Vc,2,0,"th",52),X.Xc(189,Bc,2,1,"td",53),X.hc(),X.ic(190,59),X.Xc(191,Hc,2,0,"th",52),X.Xc(192,Uc,2,1,"td",53),X.hc(),X.ic(193,60),X.Xc(194,qc,2,0,"th",52),X.Xc(195,Gc,2,1,"td",53),X.hc(),X.ic(196,61),X.Xc(197,_c,2,0,"th",52),X.Xc(198,Kc,2,1,"td",53),X.hc(),X.ic(199,62),X.Xc(200,Qc,2,0,"th",52),X.Xc(201,Jc,2,1,"td",53),X.hc(),X.ic(202,63),X.Xc(203,Wc,2,0,"th",52),X.Xc(204,Yc,2,1,"td",53),X.hc(),X.ic(205,64),X.Xc(206,ct,2,0,"th",52),X.Xc(207,it,3,2,"td",53),X.hc(),X.ic(208,72),X.Xc(209,ot,2,0,"th",73),X.Xc(210,at,1,0,"td",74),X.hc(),X.Xc(211,st,1,0,"tr",65),X.Xc(212,rt,1,3,"tr",66),X.jc(),X.Xc(213,nt,2,1,"div",67),X.jc(),X.Xc(214,lt,2,2,"div",68),X.fc(215,"mat-paginator",69,75),X.jc(),X.jc(),X.jc(),X.jc(),X.jc(),X.jc()),2&c&&(X.Rb(20),X.Ec("ngIf",t.procesando),X.Rb(1),X.Ec("formGroup",t.form),X.Rb(6),X.Ec("value",t.selectedArea),X.Rb(1),X.Ec("ngForOf",t.areas),X.Rb(1),X.Ec("ngIf",1==t.selectedAreaStatus),X.Rb(1),X.Ec("ngIf",2==t.selectedAreaStatus),X.Rb(1),X.Ec("ngIf",2==t.selectedAreaStatus),X.Rb(5),X.Ec("value",t.selectedFilial),X.Rb(1),X.Ec("value",0),X.Rb(2),X.Ec("ngForOf",t.filiales),X.Rb(5),X.Ec("value",t.selectedSede),X.Rb(1),X.Ec("value",0),X.Rb(2),X.Ec("ngForOf",t.sedes),X.Rb(5),X.Ec("value",t.selectedEspecialidad),X.Rb(1),X.Ec("value",0),X.Rb(2),X.Ec("ngForOf",t.especialidades),X.Rb(6),X.Ec("value",0),X.Rb(2),X.Ec("ngForOf",t.tiposAmbiente),X.Rb(6),X.Ec("value",0),X.Rb(2),X.Ec("ngForOf",t.ciclos),X.Rb(3),X.Ec("disabled",!t.form.valid||t.procesando),X.Rb(4),X.Ec("disabled",!t.form.valid||t.procesando),X.Rb(4),X.Ec("ngIf",t.RegistrosProcesados),X.Rb(22),X.Ec("dataSource",t.dataSource),X.Rb(38),X.Ec("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),X.Rb(1),X.Ec("matRowDefColumns",t.displayedColumns),X.Rb(1),X.Ec("ngIf",t.isTblLoading),X.Rb(1),X.Ec("ngIf",!t.isTblLoading),X.Rb(1),X.Ec("pageSizeOptions",X.Hc(39,dt))("pageSize",5),X.Rb(24),X.Ec("dataSource",t.dataSourceReplica),X.Rb(41),X.Ec("matHeaderRowDef",t.displayedColumnsReplica)("matHeaderRowDefSticky",!0),X.Rb(1),X.Ec("matRowDefColumns",t.displayedColumnsReplica),X.Rb(1),X.Ec("ngIf",t.isTblLoadingReplica),X.Rb(1),X.Ec("ngIf",!t.isTblLoadingReplica),X.Rb(1),X.Ec("pageSizeOptions",X.Hc(40,dt))("pageSize",5))},directives:[k.g,i.m,o.r,o.l,o.f,r.c,r.f,m.a,o.k,o.e,i.l,$.n,d.a,g.a,u.a,a.j,f.a,a.c,a.e,a.b,a.g,a.i,s.a,x.a,a.d,f.b,a.a,a.f,a.h,i.k,F.a],pipes:[i.e],styles:[""]}),c})(),pathMatch:"full"}];let mt=(()=>{class c{}return c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=X.cc({type:c}),c.\u0275inj=X.bc({imports:[[k.h.forChild(ut)],k.h]}),c})();var ht=e("mklz"),ft=e("wZkO"),pt=e("1jcm"),bt=e("bSwM"),gt=e("MutI"),kt=e("z17N");let jt=(()=>{class c{}return c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=X.cc({type:c}),c.\u0275inj=X.bc({providers:[E.a,j.a,v.a,R.a,S.a,P,w.a,ht.a,I.a,T.a,A.a,i.e],imports:[[i.c,o.g,o.o,a.l,s.b,r.e,n.c,l.b,d.b,u.b,m.b,h.e,f.c,p.a,b.c,g.b,mt,x.b,ft.c,pt.b,bt.b,kt.b,kt.c,F.b,gt.a]]}),c})()}}]);