<section class="content">
  <div class="container-fluid">
    <div class="block-header">
      <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
          <ul class="breadcrumb breadcrumb-style ">
            <li class="breadcrumb-item">
              <h4 class="page-title">Programaciones Acad&eacute;micas</h4>
            </li>
            <li class="breadcrumb-item bcrumb-1">
              <a routerLink="/admin/dashboard/main">
                <i class="fas fa-home"></i> Home</a>
            </li>
            <li class="breadcrumb-item bcrumb-1">
              <a routerLink="/admin/simulacion">
                Simulaci&oacute;n</a>
            </li>
            <li class="breadcrumb-item active">
              Programaciones Acad&eacute;micas
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="card">
          <div class="body">  
            
  
<div class="body table-responsive">        
  <div class="materialTableHeader">
    <div class="row">
      <div class="col-8">
        <ul class="header-buttons-left ml-0">
          
          <li class="dropdown m-l-20">
            <label for="search-input"><i class="material-icons search-icon">search</i></label>
            <input placeholder="Buscar" type="text" class="browser-default search-field"
              aria-label="Search box" (keyup)="applyFilterSimulacion($event)">
          </li>
        </ul>
      </div>
      <div class="col-4">
        <ul class="header-buttons">
          <li>
            <div class="icon-button-demo">
              <button mat-mini-fab color="primary" (click)="refreshSimulacion()" matTooltip="Actualizar">
                <mat-icon class="col-white">refresh
                </mat-icon>
              </button>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <table mat-table [dataSource]="dataSourceSimulacion" class="w-100" #sortSimulacionTableSort="matSort" matSort multiTemplateDataRows>

    <!-- Name Column -->
    <ng-container matColumnDef="codigoAca">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Codigo Aca </th>
      <td mat-cell *matCellDef="let element"> {{element.codigoAca}} </td>
    </ng-container>
    <ng-container matColumnDef="nombreArea">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Area </th>
      <td mat-cell *matCellDef="let element"> {{element.nombreArea}} </td>
    </ng-container>
    <ng-container matColumnDef="semestre">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Semestre </th>
      <td mat-cell *matCellDef="let element"> {{element.semestre}} </td>
    </ng-container>
    <ng-container matColumnDef="annoProceso">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Año </th>
      <td mat-cell *matCellDef="let element"> {{element.annoProceso}} </td>
    </ng-container>
    <ng-container matColumnDef="mesProceso">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Mes </th>
      <td mat-cell *matCellDef="let element"> {{element.mesProceso}} </td>
    </ng-container>
    <ng-container matColumnDef="nombreSede">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Sede </th>
      <td mat-cell *matCellDef="let element"> {{element.nombreSede}} </td>
    </ng-container>
    <ng-container matColumnDef="nombrePrograma">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Programa </th>
      <td mat-cell *matCellDef="let element"> {{element.nombrePrograma}} </td>
    </ng-container>
    <ng-container matColumnDef="nombreEspecialidad">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Especialidad </th>
      <td mat-cell *matCellDef="let element"> {{element.nombreEspecialidad}} </td>
    </ng-container>
    <ng-container matColumnDef="ciclo">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Ciclo </th>
      <td mat-cell *matCellDef="let element"> {{element.ciclo}} </td>
    </ng-container>
    <ng-container matColumnDef="curso">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Asignatura </th>
      <td mat-cell *matCellDef="let element"> {{element.curso}} </td>
    </ng-container>
    <ng-container matColumnDef="turno">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Turno </th>
      <td mat-cell *matCellDef="let element"> {{element.turno}} </td>
    </ng-container>
    <ng-container matColumnDef="capacidad">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Capacidad </th>
      <td mat-cell *matCellDef="let element"> {{element.capacidad}} </td>
    </ng-container>
    <ng-container matColumnDef="capacidadDocente">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Capacidad Docente </th>
      <td mat-cell *matCellDef="let element"> {{element.capacidadDocente}} </td>
    </ng-container>
    <ng-container matColumnDef="matriculados">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Matriculados </th>
      <td mat-cell *matCellDef="let element"> {{element.matriculados}} </td>
    </ng-container>
    <ng-container matColumnDef="fechaInicio">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> F.Inicio </th>
      <td mat-cell *matCellDef="let element"> {{element.fechaInicio | date:'dd/MM/yyyy'}}&nbsp; </td>
    </ng-container>
    <ng-container matColumnDef="fechaFin">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> F.Fin </th>
      <td mat-cell *matCellDef="let element"> {{element.fechaFin | date:'dd/MM/yyyy'}}&nbsp; </td>
    </ng-container>
    <!-- Aforo Column -->
    
    <ng-container matColumnDef="sinAmbiente">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Sin Ambiente </th>
      <td mat-cell *matCellDef="let element"> 
        <button mat-icon-button style="color:#28a745" *ngIf="element.sinAmbiente" matTooltip="Contiene Horas repetidas">
          <mat-icon>check_circle</mat-icon>
        </button><!--
        <button mat-icon-button *ngIf="!element.sinAmbiente" matTooltip="Desbloquear">
          <mat-icon>block</mat-icon>
        </button>-->
      </td>
    </ng-container>

    

    <ng-container matColumnDef="expandedDetail">
      <td mat-cell *matCellDef="let element" [attr.colspan]="displayedColumnsSimulacion.length">                        
        <div class="example-element-detail"
             [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
                             
         <div *ngIf="isTblLoadingHorario" class="tbl-spinner">
          <mat-progress-spinner color="primary" [diameter]="40" mode="indeterminate">
          </mat-progress-spinner>
        </div>
        <div *ngIf="!isTblLoadingHorario && horarios?.length == 0" style="text-align: center;color: red;">No se encontro registros</div>
          <table class="table" *ngIf="horarios?.length > 0">
            <thead>
              <tr>
                <th>TIPO ENSEÑANZA</th>
                <th>TIPO HORA</th>
                <th>DIA</th>
                <th>HORA INICIO</th>
                <th>HORA FIN</th>
                <th>GRUPO</th>
                <th>CAPACIDAD</th>
                <th>MATRICULADOS</th>
                <th>SEDE UBICACION</th>
                <th>TIPO AMBIENTE</th>
                <th>UBICACION</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let option of horarios" style="background-color: #8bc34a3d;">
                <td>{{option.tipoEnsenanza}}</td>
                <td>{{option.nombreTipoHora}}</td>
                <td>{{option.nombreDia}}</td>
                <td>{{option.horaInicio}}</td>
                <td>{{option.horaFin}}</td>
                <td>{{option.grupo}}</td>
                <td>{{option.capacidad}}</td>
                <td>{{option.matriculados}}</td>
                <td>{{option.nombreSede}}</td>
                <td>{{option.nombreTipoAmbiente}}</td>
                <td><a >{{option.codigoAmbiente}}</a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumnsSimulacion; sticky: true"></tr>
    <tr mat-row *matRowDef="let element; columns: displayedColumnsSimulacion;"
    class="example-element-row"
                    [class.example-expanded-row]="expandedElement === element"
                    (click)="expandedElement = expandedElement === element ? null : element"
                    (click)="expanded(expandedElement,element.codigoAca)"
                    ></tr>
    <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
  </table>
  <!-- Loading spinner -->
  <div *ngIf="isTblLoadingSimulacion" class="tbl-spinner">
    <mat-progress-spinner color="primary" [diameter]="40" mode="indeterminate">
    </mat-progress-spinner>
  </div>
</div>
<div *ngIf="!isTblLoadingSimulacion" class="no-results"
  [style.display]="dataSourceSimulacion?.data?.length == 0 ? '' : 'none'">
  No results
</div>
<mat-paginator #paginatorSimulacion [pageSizeOptions]="[5,10, 20]" [pageSize]="10" showFirstLastButtons>
</mat-paginator>

</div>
</div>
</div>

</div>
</div>
</section>