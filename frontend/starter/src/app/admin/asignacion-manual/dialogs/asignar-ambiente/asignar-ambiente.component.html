<div class="container">
    <h3 mat-dialog-title *ngIf="ambienteSeleccionado==null">Seleccionar Ambiente</h3>
    <div *ngIf="ambienteSeleccionado!=null"><h4>{{ambienteSeleccionado.codigo}} {{ambienteSeleccionado.descripcion}}</h4> <br/></div>
    <div mat-dialog-content>
      <div class="row" style="font-size: 12px">
        <div class="col-sm-12 col-xs-12">
          <div class="materialTableHeader">
            <div class="row">
              <div class="col-sm-8 col-xs-8">
                <ul class="header-buttons-left ml-0">
                  <li class="dropdown m-l-20">
                    <label for="search-input"><i class="material-icons search-icon">search</i></label>
                    <input placeholder="Buscar" type="text" class="browser-default search-field"
                      aria-label="Search box" (keyup)="applyFilter($event)">
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="body table-responsive">
            <table mat-table [dataSource]="dataSource" class="w-100" #sortTableSort="matSort" matSort >

              <!-- Name Column -->                   
              <ng-container matColumnDef="sede">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> SEDE </th>
                <td mat-cell *matCellDef="let element"> {{element.sede}} </td>
              </ng-container>                 
              <ng-container matColumnDef="pabellon">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> PABELLON </th>
                <td mat-cell *matCellDef="let element"> {{element.pabellon}} </td>
              </ng-container>
              <ng-container matColumnDef="piso">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> PISO </th>
                <td mat-cell *matCellDef="let element"> {{element.piso}} </td>
              </ng-container>
              <ng-container matColumnDef="codigo">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> CODIGO </th>
                <td mat-cell *matCellDef="let element"> {{element.codigo}} </td>
              </ng-container>
              <ng-container matColumnDef="descripcion">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> DESCRIPCION </th>
                <td mat-cell *matCellDef="let element"> {{element.descripcion}} </td>
              </ng-container>
              <ng-container matColumnDef="aream2">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> AREA m2 </th>
                <td mat-cell *matCellDef="let element"> {{element.aream2}} </td>
              </ng-container>
              <ng-container matColumnDef="aforo">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> AFORO </th>
                <td mat-cell *matCellDef="let element"> {{element.aforo}} 
                  <span *ngIf="element.nroInstalaciones>0">{{element.nroInstalaciones}}</span>
                </td>
              </ng-container>
              <ng-container matColumnDef="actions">
                <th *matHeaderCellDef class="actions-cell" mat-header-cell mat-sort-header>Opciones</th>
                <td *matCellDef="let row" class="actions-cell" mat-cell>
                  
                  <mat-radio-button [value]="row" (click)="marcarAmbiente(row)" color="primary"></mat-radio-button>
                </td>
              </ng-container>
              <!-- Aforo Column -->
              

              <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
            <!-- Loading spinner -->
            <div *ngIf="isTblLoading" class="tbl-spinner">
              <mat-progress-spinner color="primary" [diameter]="40" mode="indeterminate">
              </mat-progress-spinner>
            </div>
          </div>
          <div *ngIf="!isTblLoading" class="no-results"
            [style.display]="dataSource?.data.length == 0 ? '' : 'none'">
            No results
          </div>
          <mat-paginator #paginator [pageSizeOptions]="[5,10, 20]" [pageSize]="5" showFirstLastButtons>
          </mat-paginator>
        </div>
      </div>
      <div *ngIf="ambienteSeleccionado==null"><b>Seleccionar un ambiente de la lista</b></div>
    </div>
    <div mat-dialog-actions class="mb-1">
      <button mat-flat-button color="primary" (click)="confirm()" [disabled]="ambienteSeleccionado==null">
        Asignar
      </button>
      <button mat-flat-button (click)="onNoClick()" tabindex="-1">Cancelar</button>
    </div>
  </div>
  